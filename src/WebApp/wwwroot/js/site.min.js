function getInfoCardPositions(n,t){var r,i;if(n<=8)return[n];if(n<=16)return[Math.round(n/2),n];if(n<=32)return[Math.round(n/3),Math.round(n/3*2),n];if(n<=64)return[Math.round(n/4),Math.round(n/2),Math.round(n/4*3),n];if(n<=96)return[Math.round(n/5),Math.round(n/5*2),Math.round(n/5*3),Math.round(n/5*4),n];if(n<=128)return[Math.round(n/6),Math.round(n/3),Math.round(n/2),Math.round(n/6*4),Math.round(n/6*5),n];for(r=[],i=1;i<=t;i++)r.push(Math.round(n/t)*i);return r}function getInfoCard(n){var t='<div class="col s12 m8 l3 prod"><div class="card msg-card" style="background-color:'+tempColor+"; color: "+tempForeColor+'"><div class="card-content"><span class="card-title">'+n.Title+"<\/span><p>"+n.Message+"<\/p><\/div>";return n.HasLinks&&(t+='<div class="card-action"><a href="'+n.Link+'" target="_blank" style="color: '+tempForeColor+'">'+n.LinkText+"<\/a><\/div>"),t+"<\/div><\/div>"}function setColor(n){n.trim().length===0&&(n="#ffffff");tempColor=n;tempForeColor=getForegroundColor(n);colorHiddenInput.val(n.replace("#",""));searchHeading.css({color:tempForeColor});colorInput.css({borderBottomColor:tempForeColor,color:tempForeColor});keywords.css({borderBottomColor:tempForeColor,color:tempForeColor,boxShadow:"0 1px 0 0 "+tempForeColor});colorNameInput.css({borderBottomColor:tempForeColor,color:tempForeColor,boxShadow:"0 1px 0 0 "+tempForeColor}).val(getColorName(n));mobileMenuBtn.css({color:tempForeColor});colorR.css({borderBottomColor:tempForeColor,color:tempForeColor});colorG.css({borderBottomColor:tempForeColor,color:tempForeColor});colorB.css({borderBottomColor:tempForeColor,color:tempForeColor});colorDisplay.css({backgroundColor:n,color:tempForeColor});$(".input-field span").css("color",tempForeColor);$(".rgbLabel").css("color",tempForeColor);setRGBVals(n)}function propegateColor(){var t,i,r,n,u,f;if(searchColor=tempColor,foreColor=tempForeColor,colorHiddenInput.val(searchColor),t=getColorName(searchColor),searchHeading.css("color",foreColor),colorInput.css({color:foreColor}),keywords.css("color",foreColor),colorNameInput.css({color:foreColor}).val(t),clearName.css({backgroundColor:searchColor}),clearNameIcon.css({color:foreColor}),clearNameSm.css({backgroundColor:searchColor}),clearNameIconSm.css({color:foreColor}),selectedLabel.css({color:foreColor}).text(t),mobileMenuBtn.css({color:foreColor}),tempForeColor==="#1e1e1e"?(i=LightenDarkenColor(searchColor,-40),r=getForegroundColor(i),$(".search-btn").css({backgroundColor:i,color:r})):$(".search-btn").css({backgroundColor:LightenDarkenColor(searchColor,40),color:tempForeColor}),$(".spinner-layer").css({borderColor:searchColor}),n=hexToRgb(tempColor),n.r>230&&n.b>230&&n.g>230){$("#results").empty();u="<div class='container center-align'><h4>To White!<\/h4><p>We don't index white or close to white. Try something a little darker<\/p><\/div>";$(u).appendTo("#results");return}if(n.r<50&&n.b<50&&n.g<50){$("#results").empty();f="<div class='container center-align'><h4>To Dark!<\/h4><p>We don't index black or close to black. Try something a little lighter.<\/p><\/div>";$(f).appendTo("#results");return}}function getForegroundColor(n){var i=parseInt(n.substr(1,2),16),r=parseInt(n.substr(3,2),16),u=parseInt(n.substr(5,2),16),t=(i*299+r*587+u*114)/1e3;return t>=128?(keywords.removeClass("tt-placeholder-light"),keywords.addClass("tt-placeholder-dark"),$("#colorName").removeClass("tt-placeholder-light"),$("#colorName").addClass("tt-placeholder-dark")):(keywords.removeClass("tt-placeholder-dark"),keywords.addClass("tt-placeholder-light"),$("#colorName").removeClass("tt-placeholder-dark"),$("#colorName").addClass("tt-placeholder-light")),t>=128?"#1e1e1e":"#f5f5f5"}function hexToRgb(n){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function isPercentage(n){return typeof n=="string"&&n.indexOf("%")!==-1}function isOnePointZero(n){return typeof n=="string"&&n.indexOf(".")!==-1&&parseFloat(n)===1}function bound01(n,t){isOnePointZero(n)&&(n="100%");var i=isPercentage(n);return(n=mathMin(t,mathMax(0,parseFloat(n))),i&&(n=parseInt(n*t,10)/100),Math.abs(n-t)<1e-6)?1:n%t/parseFloat(t)}function getHue(n,t,i){var f;n=bound01(n,255);t=bound01(t,255);i=bound01(i,255);var r=mathMax(n,t,i),e=mathMin(n,t,i),u,o,s=(r+e)/2;if(r===e)u=o=0;else{f=r-e;o=s>.5?f/(2-r-e):f/(r+e);switch(r){case n:u=(t-i)/f+(t<i?6:0);break;case t:u=(i-n)/f+2;break;case i:u=(n-t)/f+4}u/=6}return u}function nameOfHue(n){switch(!0){case n>=0&&n<=10||n>355&&n<=360:return"Red";case n>10&&n<=20:return"Red / Orange";case n>20&&n<=40:return"Orange / Brown";case n>40&&n<=50:return"Orange / Yellow";case n>50&&n<=60:return"Yellow";case n>60&&n<=80:return"Yellow / Green";case n>80&&n<=140:return"Green";case n>140&&n<=169:return"Green / Cyan";case n>169&&n<=200:return"Cyan";case n>200&&n<=220:return"Cyan / Blue";case n>220&&n<=240:return"Blue";case n>240&&n<=280:return"Blue / Magenta";case n>280&&n<=320:return"Magenta";case n>320&&n<=330:return"Magenta / Pink";case n>330&&n<=345:return"Pink";case n>345&&n<=355:return"Pink / Red";default:return"Grey"}}function getColorName(n){n.trim().length===0&&(n="#ffffff");var t=hexToRgb(n),i=getHue(t.r,t.g,t.b);return"Custom "+nameOfHue(i*360)+" ("+n+")"}function setRGBVals(n){n===""&&(n="#ffffff");var t=hexToRgb(n);colorR.val(t.r).change();colorG.val(t.g).change();colorB.val(t.b).change();colorRsm.val(t.r).change();colorGsm.val(t.g).change();colorBsm.val(t.b).change()}function componentToHex(n){var t=n.toString(16);return t.length===1?"0"+t:t}function rgbToHex(n,t,i){return componentToHex(n)+componentToHex(t)+componentToHex(i)}function setHex(n){if($(n).val().length===6){var t=$(n).val().replace("#","");setRGBVals(t)}else $(n).val().replace("#","").length>6&&(alert("Hex values are only 6 characters long"),$(n).val($(n).val().substr(0,6)))}function setRGB(n,t){if($(n).val().length!==0){$(n).val()<0?(alert("RGB values must be between 0 and 255"),$(n).val(0)):$(n).val()>255&&(alert("RGB values must be between 0 and 255"),$(this).val(255));var i="";i=t?rgbToHex(parseInt(colorRsm.val()),parseInt(colorGsm.val()),parseInt(colorBsm.val())):rgbToHex(parseInt(colorR.val()),parseInt(colorG.val()),parseInt(colorB.val()));colorInput.chromoselector("setColor","#"+i)}}function LightenDarkenColor(n,t){var e=!1,f,i,r,u;return n[0]==="#"&&(n=n.slice(1),e=!0),f=parseInt(n,16),i=(f>>16)+t,i>255?i=255:i<0&&(i=0),r=(f>>8&255)+t,r>255?r=255:r<0&&(r=0),u=(f&255)+t,u>255?u=255:u<0&&(u=0),(e?"#":"")+(u|r<<8|i<<16).toString(16)}var url='@Url.Action("GetMore", "Home")',colorOfDay="#243973",searchHeading=$("#searchOptionsHeading"),colorInput=$("#colorNumber"),clearName=$("#clear-name"),clearNameIcon=$("#clear-name-icon"),clearNameSm=$("#clear-name-sm"),clearNameIconSm=$("#clear-name-icon-sm"),selectedColor="",keywords=$("#keywords-input"),colorDisplay=$("#results-header"),socialIcons=$(".social path"),colorR=$("#colorR"),colorG=$("#colorG"),colorB=$("#colorB"),colorRsm=$("#colorR-sm"),colorGsm=$("#colorG-sm"),colorBsm=$("#colorB-sm"),selectedLabel=$("#current-color"),selectorBtn=$(".modal-trigger"),mobileMenuBtn=$(".button-collapse i:not(.landing)"),searchColor=colorOfDay,selectedPaintColor="",foreColor=getForegroundColor(colorOfDay),tempColor=$("#color").val()!==""?"#"+$("#color").val():"#ffffff",tempForeColor="",mathRound=Math.round,mathMin=Math.min,mathMax=Math.max,colorHiddenInput=$("#color"),colorNameInput=$("#colorName"),colorNameHome=$("#colorNameHome"),keywordsInput=$("#keywords-input");$("#collapseSearch").on("shown.bs.collapse",function(){setColor($(colorHiddenInput).val());$("#searchByCustom").click().focus();window.screen.availHeight<$("#collapseSearch").height()&&$(".search-header").css("position","static")});$.urlParam=function(n){var t=new RegExp("[?&]"+n+"=([^&#]*)").exec(window.location.href);return t===null?null:t[1]||0};$(window).on("popstate",function(){searchColor=$.urlParam("c")!==null&&$.urlParam("c")!=="null"?"#"+$.urlParam("c"):colorOfDay;setColor(searchColor);searchColor===colorOfDay?($("#initial-headings").show(),propegateColor(!1)):propegateColor(!0)});$(".goBtn").click(function(){propegateColor(!0)});clearName.click(function(){colorNameInput.val("");colorNameInput.focus()});$("#colorMfgNameNo").focusin(function(){$("#colorMfgNameNo").css("border-bottom-color",tempForeColor).css("box-shadow","0 1px 0 0 "+tempForeColor)});$("#colorMfgNameNo").focusout(function(){$("#colorMfgNameNo").css("box-shadow","0 1px 0 0 "+tempForeColor)});$("#colorMfgNameNoSm").focusin(function(){$("#colorMfgNameNoSm").css("border-bottom-color",tempForeColor).css("box-shadow","0 1px 0 0 "+tempForeColor)});$("#colorMfgNameNoSm").focusout(function(){$("#colorMfgNameNoSm").css("box-shadow","0 1px 0 0 "+tempForeColor)});$("#colorNumber").bind("input",function(){setHex(this)});$(".rgbInput input").bind("input",function(){setRGB(this,!1)});$('a[data-toggle="tab"]').on("shown.bs.tab",function(n){n.target.toString().includes("panel3")&&($("#search-container").css("background-color","#efefef"),setColor("#ffffff"))});$(document).on("focus","#colorName",function(){$(this).val("")});$(document).on("show.bs.modal","#ql-modal",function(n){var i=$(n.relatedTarget),r=i.data("prodid"),t=$(this);t.find(".modal-title").text("");t.find("#product-title").css("opacity","0");t.find(".price-after").css("opacity","0");t.find("#artist-name").css("opacity","0");t.find("#description").css("opacity","0");t.find("#modal-store-logo").css("opacity","0");t.find("#keywords a").remove();t.find("#main-img").attr("src","/lib/material-bootstrap/img/lightbox/preloader.gif");$.ajax({url:"/artprints/productdetail",type:"GET",contentType:"application/json",data:{id:r},success:function(n){var r,u,f;t.find("#product-title").text(n.title).css("opacity","1").css("transition","0.5s");t.find("#main-img").fadeOut(function(){$(this).attr("src",n.images[0].sourceURLLarge).load(function(){$(this).fadeIn()})});t.find(".price-after").html("base price <b>$"+n.price.toFixed(2)+"<\/b><sup>*<sup>").css("opacity","1").css("transition","0.5s");t.find("#modal-store-logo").attr("src",n.supplier.logo).load(function(){$(this).css("opacity","1").css("transition","0.5s")});n.artist!==null&&n.artist.name!==null&&n.artist.name.length>0?(t.find("#artist-name").show(),t.find("#artist-link").attr("href",n.artist.slugURL).html(n.artist.name+" <small>(view more)<\/small>"),t.find("#artist-name").css("opacity","1").css("transition","0.5s"),n.supplier.name==="Red Bubble"||n.supplier.name==="Imagekind"?t.find(".indie-artist").show():t.find(".indie-artist").hide()):t.find("#artist-name").hide();t.find("#buy-now").attr("href",n.affiliateURL);n.description!==null&&n.description.length>0?t.find("#description").text(n.description).fadeIn():t.find("#description").hide();n.keywords!==null&&n.keywords.length>0?($.each(n.keywords.split(","),function(){var n='<a href="/'+this.trim().replace(" ","-")+'" class="btn btn-sm primary-rounded-outline waves-effect">'+this.trim()+"<\/a>";t.find("#keywords").append(n)}),t.find("#keywords").append("<hr>"),t.find("#keywords").fadeIn()):t.find("#keywords").hide();t.find("#detail-link").attr("href",i.attr("href"));t.find(".btn-fb").attr("data-link",encodeURIComponent(window.location.origin+i.attr("href")));r="https://twitter.com/intent/tweet?text=";r+=encodeURIComponent("Check out this nice art print");r+="&url="+encodeURIComponent(window.location.origin+i.attr("href"));r+="&via=artbyhue";t.find(".btn-tw").attr("href",r);u="https://www.pinterest.com/pin/create/button/?url=";u+=encodeURIComponent(window.location.origin+i.attr("href"));u+="&media="+encodeURIComponent(n.images[0].sourceURLLarge);u+="&description="+encodeURIComponent("Art Print titled "+n.title+" found at Art By Hue");t.find(".btn-pin").attr("href",u);f="https://plus.google.com/share?url=";f+=encodeURIComponent(window.location.origin+i.attr("href"));t.find(".btn-gplus").attr("href",f)},error:function(n,t,i){console.debug(i)}})});$(document).on("click",".btn-fb",function(){FB.ui({method:"share",display:"popup",href:document.querySelector("link[rel='canonical']").href},function(){})});$(function(){var i,r,n,t;$(".button-collapse").sideNav();$('[data-toggle="popover"]').popover({trigger:"focus"});$("#paintColorSelect").addClass("animated").addClass("bounceOutRight");tempForeColor=getForegroundColor(tempColor);propegateColor(!1);i=function(){var n=$("#colorNumber").chromoselector("getColor");setColor(n.getHexString());$("#search-container").css("background-color",n.getHexString())};$("#colorNumber").chromoselector({target:"#pickerDiv",autoshow:!1,preview:!1,resizable:!1,roundcorners:!1,update:i,create:function(){$(this).chromoselector("show",0)},str2color:function(n){return colorHiddenInput.val(n),"#"+n},color2str:function(n){return n.getHexString().substring(1)},width:200});r=function(){var n=$("#ColorHome").chromoselector("getColor").getHexString();tempForeColor=getForegroundColor(n);$("#home-color-selector").css("background-color",n).css("color",tempForeColor);colorNameHome.val(getColorName(n));$(this).chromoselector("show",0)};$("#ColorHome").chromoselector({target:"#pickerDivHome",autoshow:!1,preview:!1,resizable:!1,roundcorners:!1,update:r,create:function(){var n="#006400";tempForeColor=getForegroundColor(n);$("#home-color-selector").css("background-color",n).css("color",tempForeColor);$(this).chromoselector("show",0)},str2color:function(n){return $("#ColorHome").val(n),"#"+n},color2str:function(n){return n.getHexString().substring(1)},width:200});n=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name"),queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:{url:"/content/pcolors.json",filter:function(n){return $.map(n.colors,function(n){return{name:n.name,hex:n.hex}})}}});n.clearPrefetchCache();n.initialize();colorNameInput.typeahead(null,{name:"name",display:"name",limit:25,minLength:1,source:n,templates:{empty:'<div class="empty-message">\nunable to find any matching paints/colors\n<\/div>',suggestion:Handlebars.compile('<div><div class="tt-color-swatch" style="background-color: {{hex}}"><\/div><div class="tt-color-name">{{name}}<\/div><div style="clear: both;"><\/div>')}}).on("typeahead:selected",function(n,t){selectedColor=t.hex;colorInput.chromoselector("setColor",selectedColor);setColor(t.hex);$(colorHiddenInput).val(t.hex.replace("#",""))});t=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:"/suggest/%QUERY",wildcard:"%QUERY"}});t.initialize();keywordsInput.typeahead(null,{name:"tags",async:!0,limit:14,minLength:3,source:t})});